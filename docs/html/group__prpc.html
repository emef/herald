<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>prpc: Prpc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">prpc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Prpc</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga02584e6522871030c9e1bbecf1027aa8"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#ga02584e6522871030c9e1bbecf1027aa8">callback_t</a>) (const void *data, size_t len)</td></tr>
<tr class="separator:ga02584e6522871030c9e1bbecf1027aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga9253d5cfa0604ee7f5c77487822852ed"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#ga9253d5cfa0604ee7f5c77487822852ed">publisher_error</a> { <a class="el" href="group__prpc.html#gga9253d5cfa0604ee7f5c77487822852eda6a455485fffa84f3fff926fea132f6a3">PUB_OK</a> = 0, 
<a class="el" href="group__prpc.html#gga9253d5cfa0604ee7f5c77487822852eda83e7524bbdbe417b5b81c57ead00c150">PUB_NOSOCKET</a>, 
<a class="el" href="group__prpc.html#gga9253d5cfa0604ee7f5c77487822852eda9ea9c69539c089ce2e6ea04f089968f1">PUB_TOOLARGE</a>, 
<a class="el" href="group__prpc.html#gga9253d5cfa0604ee7f5c77487822852edaa71d29733158c8ab0dae7765ec698748">PUB_NOTRUNNING</a>
 }<tr class="memdesc:ga9253d5cfa0604ee7f5c77487822852ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return code for publisher functions.  <a href="group__prpc.html#ga9253d5cfa0604ee7f5c77487822852ed">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga9253d5cfa0604ee7f5c77487822852ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85de4afe06b47c904795d27f7033f742"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#ga85de4afe06b47c904795d27f7033f742">subscriber_error</a> { <a class="el" href="group__prpc.html#gga85de4afe06b47c904795d27f7033f742a606b9e90dc3c7e90c6900648556b40ac">SUB_OK</a> = 0, 
<a class="el" href="group__prpc.html#gga85de4afe06b47c904795d27f7033f742a5c795ed80060c66c4f9db4802c0d5432">SUB_NOSOCKET</a>, 
<a class="el" href="group__prpc.html#gga85de4afe06b47c904795d27f7033f742a09235bb8c3480b01d8939a1efa06eadd">SUB_BADRESP</a>, 
<a class="el" href="group__prpc.html#gga85de4afe06b47c904795d27f7033f742aedb7b8341d2e1bb7a3eb6b0098c95bb9">SUB_NOSHAREDMEM</a>
 }<tr class="memdesc:ga85de4afe06b47c904795d27f7033f742"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return code for subscriber functions.  <a href="group__prpc.html#ga85de4afe06b47c904795d27f7033f742">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga85de4afe06b47c904795d27f7033f742"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5399ad00f4962557d21c4673c0de08bb"><td class="memItemLeft" align="right" valign="top">publisher_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#ga5399ad00f4962557d21c4673c0de08bb">publisher_create</a> (const int port, const size_t buffer_size)</td></tr>
<tr class="separator:ga5399ad00f4962557d21c4673c0de08bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3d2d879a0b3307941abdb5a4b9ad29f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#gaf3d2d879a0b3307941abdb5a4b9ad29f">publisher_destroy</a> (publisher_t *publisher)</td></tr>
<tr class="separator:gaf3d2d879a0b3307941abdb5a4b9ad29f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e1bd73909e68ff1eeabda8dc0440483"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__prpc.html#ga9253d5cfa0604ee7f5c77487822852ed">publisher_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#ga4e1bd73909e68ff1eeabda8dc0440483">publisher_init</a> (publisher_t *publisher)</td></tr>
<tr class="separator:ga4e1bd73909e68ff1eeabda8dc0440483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ad660ba01356159e54304f75964d88f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__prpc.html#ga9253d5cfa0604ee7f5c77487822852ed">publisher_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#ga2ad660ba01356159e54304f75964d88f">publisher_publish</a> (publisher_t *publisher, const void *data, const size_t length)</td></tr>
<tr class="separator:ga2ad660ba01356159e54304f75964d88f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf45d27d66143132da27d510759d41b9d"><td class="memItemLeft" align="right" valign="top">subscriber_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#gaf45d27d66143132da27d510759d41b9d">subscriber_create</a> (const int port, const <a class="el" href="group__prpc.html#ga02584e6522871030c9e1bbecf1027aa8">callback_t</a> callback)</td></tr>
<tr class="separator:gaf45d27d66143132da27d510759d41b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fd59063d93aac916dcba59cf1884d86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#ga2fd59063d93aac916dcba59cf1884d86">subscriber_destroy</a> (subscriber_t *subscriber)</td></tr>
<tr class="separator:ga2fd59063d93aac916dcba59cf1884d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86a6fd0d881cc03c51f58bffc32da3be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__prpc.html#ga85de4afe06b47c904795d27f7033f742">subscriber_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__prpc.html#ga86a6fd0d881cc03c51f58bffc32da3be">subscriber_init</a> (subscriber_t *subscriber)</td></tr>
<tr class="separator:ga86a6fd0d881cc03c51f58bffc32da3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>this is the prpc group </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga02584e6522871030c9e1bbecf1027aa8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* callback_t) (const void *data, size_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function to be called when new data arrives from publisher.</p>
<p>NOTE: The pointer to <code>data</code> is only valid for the lifetime of this function call, if it needs to last longer a copy should be made.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>the buffer of data received. </td></tr>
    <tr><td class="paramname">len</td><td>the length of the buffer. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga9253d5cfa0604ee7f5c77487822852ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__prpc.html#ga9253d5cfa0604ee7f5c77487822852ed">publisher_error</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return code for publisher functions. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga9253d5cfa0604ee7f5c77487822852eda6a455485fffa84f3fff926fea132f6a3"></a>PUB_OK&#160;</td><td class="fielddoc">
<p>Operation was successful. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga9253d5cfa0604ee7f5c77487822852eda83e7524bbdbe417b5b81c57ead00c150"></a>PUB_NOSOCKET&#160;</td><td class="fielddoc">
<p>Could not create and bind to the socket. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga9253d5cfa0604ee7f5c77487822852eda9ea9c69539c089ce2e6ea04f089968f1"></a>PUB_TOOLARGE&#160;</td><td class="fielddoc">
<p>Message exceeds buffer size and cannot be published. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga9253d5cfa0604ee7f5c77487822852edaa71d29733158c8ab0dae7765ec698748"></a>PUB_NOTRUNNING&#160;</td><td class="fielddoc">
<p>Attempted to publish message on unititialized publisher. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga85de4afe06b47c904795d27f7033f742"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__prpc.html#ga85de4afe06b47c904795d27f7033f742">subscriber_error</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return code for subscriber functions. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga85de4afe06b47c904795d27f7033f742a606b9e90dc3c7e90c6900648556b40ac"></a>SUB_OK&#160;</td><td class="fielddoc">
<p>Operation was successful. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85de4afe06b47c904795d27f7033f742a5c795ed80060c66c4f9db4802c0d5432"></a>SUB_NOSOCKET&#160;</td><td class="fielddoc">
<p>Could not create and connect socket to publisher. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85de4afe06b47c904795d27f7033f742a09235bb8c3480b01d8939a1efa06eadd"></a>SUB_BADRESP&#160;</td><td class="fielddoc">
<p>Bad response from publisher, aborted. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga85de4afe06b47c904795d27f7033f742aedb7b8341d2e1bb7a3eb6b0098c95bb9"></a>SUB_NOSHAREDMEM&#160;</td><td class="fielddoc">
<p>Could not initialize shared memory region. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5399ad00f4962557d21c4673c0de08bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">publisher_t* publisher_create </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>buffer_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a publisher. Does not initialize server until <a class="el" href="group__prpc.html#ga4e1bd73909e68ff1eeabda8dc0440483">publisher_init</a> is called.</p>
<p>NOTE: should not be freed, use <a class="el" href="group__prpc.html#gaf3d2d879a0b3307941abdb5a4b9ad29f">publisher_destroy</a> to shutdown and cleanup the publisher.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>the port to bind the server which accepts subscriber connections. </td></tr>
    <tr><td class="paramname">buffer_size</td><td>the maximum allowed size of messages to be published. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an uninitialized publisher handle. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf3d2d879a0b3307941abdb5a4b9ad29f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void publisher_destroy </td>
          <td>(</td>
          <td class="paramtype">publisher_t *&#160;</td>
          <td class="paramname"><em>publisher</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a publisher. If it was initialized, it will close server connection and disconnect all connected clients as well as destroying all shared memory regions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>the publisher handle to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4e1bd73909e68ff1eeabda8dc0440483"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__prpc.html#ga9253d5cfa0604ee7f5c77487822852ed">publisher_error</a> publisher_init </td>
          <td>(</td>
          <td class="paramtype">publisher_t *&#160;</td>
          <td class="paramname"><em>publisher</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a publisher. This will bind to the configured tcp port and start accepting connections from subscribers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>the publisher to initialize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PUB_OK if initialization was successful or an errcode if not. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2ad660ba01356159e54304f75964d88f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__prpc.html#ga9253d5cfa0604ee7f5c77487822852ed">publisher_error</a> publisher_publish </td>
          <td>(</td>
          <td class="paramtype">publisher_t *&#160;</td>
          <td class="paramname"><em>publisher</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish a message to all subscribers.</p>
<p>NOTE: This function will queue up the message to be published, and will return immediately. If an error occurs while the message was being published to subscriber(s) then there will be no way to detect it. Consider this a best effort.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">publisher</td><td>the publisher that will publish this message to is subscribers. </td></tr>
    <tr><td class="paramname">data</td><td>the payload to publish. </td></tr>
    <tr><td class="paramname">length</td><td>the length of the message payload. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PUB_OK if the message was valid and received by the publisher. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf45d27d66143132da27d510759d41b9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subscriber_t* subscriber_create </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__prpc.html#ga02584e6522871030c9e1bbecf1027aa8">callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an opaque subscriber handle. Does not initialize connection to publisher.</p>
<p>NOTE: should not be freed, use <a class="el" href="group__prpc.html#ga2fd59063d93aac916dcba59cf1884d86">subscriber_destroy</a> to shutdown and cleanup the subscriber.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>the tcp port the publisher is running on. </td></tr>
    <tr><td class="paramname">callback</td><td>a callback function to be called when a new message is received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an unititialized subscriber handle. </dd></dl>

</div>
</div>
<a class="anchor" id="ga2fd59063d93aac916dcba59cf1884d86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void subscriber_destroy </td>
          <td>(</td>
          <td class="paramtype">subscriber_t *&#160;</td>
          <td class="paramname"><em>subscriber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a subscriber. If it was initialized, it will close the remote connection to the publisher and cleanup the shared memory region.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subscriber</td><td>the subscriber handle to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga86a6fd0d881cc03c51f58bffc32da3be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__prpc.html#ga85de4afe06b47c904795d27f7033f742">subscriber_error</a> subscriber_init </td>
          <td>(</td>
          <td class="paramtype">subscriber_t *&#160;</td>
          <td class="paramname"><em>subscriber</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a subscriber. This will connect to the remote publisher and initialize the shared memory region.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subscriber</td><td>the subscriber handle to initialize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SUB_OK if initialization was successful or an errorcode if not. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
